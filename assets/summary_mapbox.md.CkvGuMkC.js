import{_ as s,c as i,o as a,a4 as n,a5 as h}from"./chunks/framework.DDVNl4kl.js";const C=JSON.parse('{"title":"Mapbox路线规划","description":"","frontmatter":{"outline":"deep","text":"使用"},"headers":[{"level":2,"title":"-.安装","slug":"安装","link":"#安装","children":[]},{"level":2,"title":"-.使用","slug":"使用","link":"#使用","children":[{"level":4,"title":"1.API实际地址转换经纬度","slug":"_1-api实际地址转换经纬度","link":"#_1-api实际地址转换经纬度","children":[]},{"level":4,"title":"2.初始化地图","slug":"_2-初始化地图","link":"#_2-初始化地图","children":[]},{"level":4,"title":"3.添加轨迹路线","slug":"_3-添加轨迹路线","link":"#_3-添加轨迹路线","children":[]},{"level":4,"title":"4.轨迹线的样式修改","slug":"_4-轨迹线的样式修改","link":"#_4-轨迹线的样式修改","children":[]},{"level":4,"title":"5.计算起始点的距离","slug":"_5-计算起始点的距离","link":"#_5-计算起始点的距离","children":[]}]},{"level":2,"title":"-.效果","slug":"效果","link":"#效果","children":[]}],"relativePath":"summary/mapbox.md","filePath":"summary/mapbox.md"}'),k={name:"summary/mapbox.md"},l=n('<h1 id="mapbox路线规划" tabindex="-1"><a href="https://docs.mapbox.com/mapbox-gl-js/guides/" target="_blank" rel="noreferrer">Mapbox</a>路线规划 <a class="header-anchor" href="#mapbox路线规划" aria-label="Permalink to &quot;[Mapbox](https://docs.mapbox.com/mapbox-gl-js/guides/)路线规划&quot;">​</a></h1><p><img src="'+h+`" alt="alt text"></p><h2 id="安装" tabindex="-1">-.安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;-.安装&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">npm</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">save</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> axios</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">npm</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">save</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> mapbox</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">gl</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">npm</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> --</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">save</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> @</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">mapbox</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">mapbox</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">gl</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">directions</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="使用" tabindex="-1">-.使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;-.使用&quot;">​</a></h2><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> mapboxgl</span><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">mapbox-gl</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">mapbox-gl/dist/mapbox-gl.css</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> MapboxDirections</span><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions.css</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_1-api实际地址转换经纬度" tabindex="-1">1.API实际地址转换经纬度 <a class="header-anchor" href="#_1-api实际地址转换经纬度" aria-label="Permalink to &quot;1.API实际地址转换经纬度&quot;">​</a></h4><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">geocoderAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">address</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#B8A965;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#BD976A;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">        axios</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">            url</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> \`</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">https://api.mapbox.com/geocoding/v5/mapbox.places/</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">encodeURIComponent</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#C98A7D;">address</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">.json</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">\`</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">            method</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">GET</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">            params</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">                access_token</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> mapboxgl</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">accessToken</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">        }).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#BD976A;">res</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">            if</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">status</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;"> 200</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">                let</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> center</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#CB7676;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">                res</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">features</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#BD976A;">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">                    if</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">center</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">                        center</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> p</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">center</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">                    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">                })</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">                resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">center</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">            }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">   })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h4 id="_2-初始化地图" tabindex="-1">2.初始化地图 <a class="header-anchor" href="#_2-初始化地图" aria-label="Permalink to &quot;2.初始化地图&quot;">​</a></h4><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#BD976A;"> origin</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">geocoderAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">origin</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#BD976A;"> destination</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">geocoderAddress</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">destination</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">map</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> mapboxgl</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">Map</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">    container</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">mapboxId</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">    style</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">mapbox://styles/mapbox/streets-v11</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">    center</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> [(</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">origin</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> destination</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">])</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">origin</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> destination</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">])</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">    zoom</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;"> 7.5</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">    antialias</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;"> // 抗锯齿</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;">// 添加全局显示控件</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">addControl</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">new</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> mapboxgl</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">FullscreenControl</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">());;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_3-添加轨迹路线" tabindex="-1">3.添加轨迹路线 <a class="header-anchor" href="#_3-添加轨迹路线" aria-label="Permalink to &quot;3.添加轨迹路线&quot;">​</a></h4><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">load</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> ()</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;">    // 获取主图色</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#BD976A;"> primary</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;"> getComputedStyle</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">document</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">documentElement</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">getPropertyValue</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">--el-color-primary</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#BD976A;"> themeColor</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">primary</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> \`</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">rgba(</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#24292E;--shiki-dark:#C98A7D;">primary</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">, 1)</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">\`</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> :</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> primary</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> ||</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">#4361EE</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">                </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;">    // 规划路线</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">directions</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;"> MapboxDirections</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">        accessToken</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> mapboxgl</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">accessToken</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">        unit</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">metric</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;"> // metric | imperial</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">        interactive</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">        profile</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">mapbox/driving</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">        controls</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">            inputs</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">            instructions</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">            profileSwitcher</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#4D9375;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#B8A965;">        styles</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;">...</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">     });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">map</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">addControl</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">directions</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">top-left</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">directions</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">setOrigin</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">origin</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;"> // 设置起点的经纬度</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">directions</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">setDestination</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">destination</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;"> // 设置起点的经纬度</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h4 id="_4-轨迹线的样式修改" tabindex="-1">4.轨迹线的样式修改 <a class="header-anchor" href="#_4-轨迹线的样式修改" aria-label="Permalink to &quot;4.轨迹线的样式修改&quot;">​</a></h4><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki shiki-themes github-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">// MapboxDirections 对象里加属性styles</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">styles: </span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">    {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">        &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">id</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">directions-route-line-casing</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">        &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">type</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">line</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">        &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">directions</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">        &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">layout</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">            &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">line-cap</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">round</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">            &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">line-join</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">round</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">         },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">         &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">paint</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">             &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">line-color</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">#fff</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">             &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">line-width</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: 2,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">          },</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">          &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">filter</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">              &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">all</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">              [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">$type</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">LineString</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">              [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">route</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">selected</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">           ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">      }</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">          &#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#B8A965;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">directions-route-line</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">          &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">type</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">line</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">          &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">directions</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">          &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">layout</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">              &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">line-cap</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">butt</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">              &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">line-join</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">round</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">          }</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">          &#39;paint&#39;: </span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">              &#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#B8A965;">line-color</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">                  property</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">congestion</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">                  &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">type</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">categorical</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">                  &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">default</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: themeColor</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">                  &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">stops</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">                      [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">unknown</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;"> themeColor]</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">                      [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">low</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;"> themeColor]</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">                      [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">moderate</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">#f09a46</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">]</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">                      [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">heavy</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">#e34341</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">]</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">                      [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">severe</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">#8b2342</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">                  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">              }</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">              &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#4D9375;">line-width</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">&#39;: 7</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">         }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">      }</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">          &#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#B8A965;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">directions-origin-point</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">          &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">type</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">circle</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">          &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">directions</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">          &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">paint</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">              &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">circle-radius</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">              &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">circle-color</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">#f09a46</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">          }</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">          &#39;filter&#39;: </span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">[</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">              &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">all</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">              [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">$type</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">Point</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">              [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">marker-symbol</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">A</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">          ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">      }</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">          &#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#B8A965;">id</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">directions-destination-point</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">          &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">type</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">circle</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">          &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">directions</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">          &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">paint</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">              &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">circle-radius</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">              &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">circle-color</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">#8b2342</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">          }</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">          &#39;filter&#39;: </span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">[</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">              &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">all</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">              [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">$type</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">Point</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">              [</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">in</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">marker-symbol</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">B</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">          ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;"> ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br></div></div><h4 id="_5-计算起始点的距离" tabindex="-1">5.计算起始点的距离 <a class="header-anchor" href="#_5-计算起始点的距离" aria-label="Permalink to &quot;5.计算起始点的距离&quot;">​</a></h4><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">directions</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">route</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#BD976A;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;">    // console.log(event.route); // 输出路线信息</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;">    // 计算距离为整数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#BD976A;"> distance</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> Math</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">round</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">route</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">].</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">distance</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">1000</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> ||</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#BD976A;"> distanceMI</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> Math</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">round</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">event</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">route</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">[</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">].</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">distance</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;"> 0.62137</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;">1000</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> ||</span><span style="--shiki-light:#005CC5;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;">    // 格式化公里</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">distanceMatrix</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> distance</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> \`</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">numberFormat</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#C98A7D;">distance</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;"> KM</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">\`</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;">    // 格式化英里</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">unit</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">imperial</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;">distanceMatrix</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> distanceMI</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> ?</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> \`</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">numberFormat</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#C98A7D;">distanceMI</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;"> MILES</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">\`</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#758575DD;"> // 格式化函数</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;"> const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;"> numberFormat</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#BD976A;">num</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#BD976A;"> num</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#80A665;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">\\B</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">(?=(</span><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">\\d</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">{3}</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#CB7676;">+</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">(?!</span><span style="--shiki-light:#005CC5;--shiki-dark:#C99076;">\\d</span><span style="--shiki-light:#032F62;--shiki-dark:#666666;">))</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#4D9375;">g</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;"> &quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#C98A7D99;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="效果" tabindex="-1">-.效果 <a class="header-anchor" href="#效果" aria-label="Permalink to &quot;-.效果&quot;">​</a></h2><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b3d6f36326c14fc2873752c1aed84ff0~tplv-k3u1fbpfcp-watermark.image?" alt="微信图片_20230628093304.png"></p>`,18),p=[l];function t(e,r,d,g,y,D){return a(),i("div",null,p)}const E=s(k,[["render",t]]);export{C as __pageData,E as default};
